flowchart TD
    A[Gift Event Received] --> B{Is Gift Streak?}
    B -->|Yes| C{Repeat on Gift Streaks Enabled?}
    B -->|No| D{Cooldown Active?}
    C -->|Yes| E[Play Sound]
    C -->|No| F[Skip Sound]
    D -->|Yes| F
    D -->|No| G{Gift Value High?}
    G -->|Yes| E
    G -->|No| H{First Gift from Viewer?}
    H -->|Yes| E
    H -->|No| F
    E --> I[Show Alert Overlay]
    F --> I
    I --> J[End]

    style A fill:#e1f5ff
    style E fill:#90ee90
    style F fill:#ffb6c1
    style I fill:#fffacd

